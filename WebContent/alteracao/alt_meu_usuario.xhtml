<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/n_template.xhtml"
	xmlns:b="http://bootsfaces.net/ui">

	<ui:define name="menu">
		<ui:include src="/includes/n_menu.xhtml" />
	</ui:define>


	<ui:define name="conteudo">
		<h:form id="fEditar">
			<b:row>
				<b:column>
					<b:well>
						<h3>#{msg['usuario.meu.editacao']}</h3>
     		 			#{msg['usuario.meu.editacao.info']}
    				</b:well>
				</b:column>
			</b:row>
			<b:row>
				<b:row>
					<b:column>
						<b:messages></b:messages>
					</b:column>
				</b:row>
				<b:column colSm="6">
					<b:row>
						<b:column>
							<b:inputText label="Id" id="id" value="#{editarMeuUsuario.id}"
								disabled="true" />
						</b:column>
					</b:row>
					<b:row>
						<b:column>
							<b:inputText label="#{msg['nome']}" id="nome"
								value="#{editarMeuUsuario.nome}" maxlength="49" required="true"
								requiredMessage="#{msg['nome.obrigatorio']}" />
						</b:column>
					</b:row>
					<b:row>
						<b:column>
							<b:inputText label="#{msg['email']}" id="email" required="true"
								requiredMessage="#{msg['email.obrigatorio']}"
								value="#{editarMeuUsuario.email}" maxlength="44"
								validatorMessage="#{msg['email.invalido']}"
								binding="#{usuarioBean.componenteEmail}">
								<f:validateRegex
									pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
							</b:inputText>
						</b:column>
					</b:row>
					<b:row>
						<b:column>
							<b:inputText label="
								#{msg['telefone']}" id="tel"
								required="true" requiredMessage="#{msg['telefone.obrigatorio']}"
								value="#{editarMeuUsuario.tel}" mask="+99 (99) 99999-9999"
								binding="#{usuarioBean.componenteTelefone}" />
						</b:column>
					</b:row>
				</b:column>
				<b:column colSm="6">
					<b:row>
						<b:column>
							<b:selectOneMenu label="#{msg['usuario.tipo']}" id="tipoUser"
								value="#{editarMeuUsuario.tipoUsuario}"
								converter="tipoUsuarioConverter"
								disabled="#{USUARIOLogado.tipoUsuario.id == 1 ? false : true}">
								<f:selectItems value="#{pesquisadorBean.listaTiposUsuarios}"
									var="tipoUser" itemLabel="#{tipoUser.nome}"
									itemValue="#{tipoUser}" />
							</b:selectOneMenu>
						</b:column>
					</b:row>
					<b:row id="selectEspecialidade">
						<b:column>
							<b:selectOneMenu label="#{msg['especialidade']}"
								id="especialidade" required="true"
								value="#{editarMeuPesquisador.especialidade.id}">
								<f:selectItems value="#{usuarioBean.listaEspecialidades}"
									var="e" itemValue="#{e.id}" itemLabel="#{e.nome}" />
							</b:selectOneMenu>
						</b:column>
					</b:row>
					<b:row id="rowInstituicao">
						<b:column>
							<b:inputText label="#{msg['instituicao']}" id="instituicao"
								value="#{editarMeuPesquisador.instituto}" maxlength="50" />
						</b:column>
					</b:row>

				</b:column>

				<b:column>
					<b:row>
						<b:column>
							<b:commandButton id="bt_criar"
								value="#{msg['usuario.meu.editar.usuario']}"
								action="#{usuarioBean.EditarMeuUsuario(editarMeuUsuario,editarMeuPesquisador)}"
								look="success" size="lg" />
						</b:column>
					</b:row>
				</b:column>

			</b:row>
		</h:form>
	</ui:define>

	<ui:define name="rodape">
		<ui:include src="/includes/n_rodape.xhtml" />
	</ui:define>

</ui:composition>